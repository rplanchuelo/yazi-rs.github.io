<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-plugins/overview" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Plugins (BETA) | Yazi</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://yazi-rs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://yazi-rs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://yazi-rs.github.io/docs/plugins/overview"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Plugins (BETA) | Yazi"><meta data-rh="true" name="description" content="Learn how to extend Yazi with Lua plugins."><meta data-rh="true" property="og:description" content="Learn how to extend Yazi with Lua plugins."><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://yazi-rs.github.io/docs/plugins/overview"><link data-rh="true" rel="alternate" href="https://yazi-rs.github.io/docs/plugins/overview" hreflang="en"><link data-rh="true" rel="alternate" href="https://yazi-rs.github.io/docs/plugins/overview" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://MS4XF9Z1OE-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Yazi RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Yazi Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Yazi" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.9fdbea32.css">
<script src="/assets/js/runtime~main.0c8c4809.js" defer="defer"></script>
<script src="/assets/js/main.bed6a559.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_CCxU" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Yazi file manager" class="themedComponent_RIc6 themedComponent--light_aQWN"><img src="/img/logo.png" alt="Yazi file manager" class="themedComponent_RIc6 themedComponent--dark_XAeT"></div><b class="navbar__title text--truncate">Yazi</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/installation">Docs</a><a class="navbar__item navbar__link" href="/features">Features</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/sxyazi/yazi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BDFJ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_pXEv colorModeToggle_dcCv"><button class="clean-btn toggleButton_NSrY toggleButtonDisabled_MzOO" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_SE7_"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_C9tG"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Hryz"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_XMDa"><div class="docsWrapper_PYwO"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_xVGj" type="button"></button><div class="docRoot_d3Ys"><aside class="theme-doc-sidebar-container docSidebarContainer_oPgs"><div class="sidebarViewport_urSB"><div class="sidebar_y3iR"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_BjfS"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/configuration/overview">Configuration</a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" href="/docs/plugins/overview">Plugins (BETA)</a><button aria-label="Collapse sidebar category &#x27;Plugins (BETA)&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugins/common">Common</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugins/layout">Layout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugins/config">Config</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugins/utils">Utils</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tips">Tips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/resources">Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/faq">Frequently Asked Questions</a></li></ul></nav></div></div></aside><main class="docMainContainer_e6i6"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_T1qo"><div class="docItemContainer_x_I5"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_TivK" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_nFk_"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Plugins (BETA)</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_P2Le theme-doc-toc-mobile tocMobile_HwNQ"><button type="button" class="clean-btn tocCollapsibleButton_Au6M">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Plugins (BETA)</h1>
<p>You can extend Yazi&#x27;s functionality through Lua plugins, which need to be placed in the <code>plugins</code> subdirectory of Yazi&#x27;s configuration directory, so either:</p>
<ul>
<li><code>~/.config/yazi/plugins/</code> on Unix-like systems.</li>
<li><code>C:\Users\USERNAME\AppData\Roaming\yazi\config\plugins\</code> on Windows.</li>
</ul>
<div class="codeBlockContainer_zHTD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xu0z"><pre tabindex="0" class="prism-code language-text codeBlock_abNA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gpQO"><span class="token-line" style="color:#393A34"><span class="token plain">~/.config/yazi/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── init.lua</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── plugins/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── fzf.yazi/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── zoxide.yazi/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── yazi.toml</span><br></span></code></pre><div class="buttonGroup_f58W"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FQNe" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZfdQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_GIdQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Each plugin is a directory ending with <code>.yazi</code>, containing an <code>init.lua</code> file for the plugin&#x27;s initialization.
For instance, the structure of the <code>zoxide</code> plugin is as:</p>
<div class="codeBlockContainer_zHTD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xu0z"><pre tabindex="0" class="prism-code language-text codeBlock_abNA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gpQO"><span class="token-line" style="color:#393A34"><span class="token plain">zoxide.yazi/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── init.lua</span><br></span></code></pre><div class="buttonGroup_f58W"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FQNe" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZfdQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_GIdQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_ZMGL" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h2>
<p>A plugin has two usages:</p>
<ul>
<li><a href="#functional-plugin">Functional plugin</a>: Bind the <code>plugin</code> command to a key in <code>keymap.toml</code>, and activate it by pressing the key.</li>
<li><a href="/docs/configuration/yazi#plugin">Custom previewers, preloaders</a>: Configure them as <code>previewers</code> or <code>preloaders</code> in your <code>[plugin]</code> of <code>yazi.toml</code> file.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_ZMGL" id="functional-plugin">Functional plugin<a href="#functional-plugin" class="hash-link" aria-label="Direct link to Functional plugin" title="Direct link to Functional plugin">​</a></h3>
<p>You can bind a <code>plugin</code> command to a specific key in your <code>keymap.toml</code> with:</p>
<table><thead><tr><th>Options/Arguments</th><th>Description</th></tr></thead><tbody><tr><td><code>[name]</code></td><td>The name of the plugin to run.</td></tr><tr><td><code>--sync</code></td><td>Run the plugin in a sync context.</td></tr><tr><td><code>--args=[args]</code></td><td>Shell-style arguments passed to the plugin.</td></tr></tbody></table>
<p>For example, <code>plugin test --sync --args=&#x27;foo bar&#x27;</code> will run the <code>test</code> plugin with the arguments <code>foo</code> and <code>bar</code> in a sync context.</p>
<p>To receive the arguments in the plugin, use <code>args</code>:</p>
<div class="language-lua codeBlockContainer_zHTD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xu0z"><pre tabindex="0" class="prism-code language-lua codeBlock_abNA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gpQO"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- ~/.config/yazi/plugins/test.yazi/init.lua</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	entry </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		ya</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">err</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- &quot;foo&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		ya</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">err</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">-- &quot;bar&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">end</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_f58W"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FQNe" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZfdQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_GIdQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_ZMGL" id="sync-vs-async">Sync vs Async<a href="#sync-vs-async" class="hash-link" aria-label="Direct link to Sync vs Async" title="Direct link to Sync vs Async">​</a></h2>
<p>The plugin system is designed with an async-first philosophy. Therefore, unless specifically specified, such as the <code>--sync</code> for the <code>plugin</code> command, all plugins run in an async context.</p>
<p>There is one exception - all <code>init.lua</code> are synchronous, which includes:</p>
<ul>
<li>The <code>init.lua</code> for Yazi itself, i.e. <code>~/.config/yazi/init.lua</code>.</li>
<li>The <code>init.lua</code> for each plugin, e.g. <code>~/.config/yazi/plugins/zoxide.yazi/init.lua</code>.</li>
</ul>
<p>This is because <code>init.lua</code> is commonly used to initialize plugin configurations, and this process is synchronous:</p>
<div class="language-lua codeBlockContainer_zHTD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xu0z"><pre tabindex="0" class="prism-code language-lua codeBlock_abNA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gpQO"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- ~/.config/yazi/init.lua</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Initialize the zoxide plugin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Which needs `~/.config/yazi/plugins/zoxide.yazi/init.lua` to export a `setup` function</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;zoxide&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setup</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	bar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;world&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">-- ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_f58W"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FQNe" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZfdQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_GIdQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_ZMGL" id="sync-context">Sync context<a href="#sync-context" class="hash-link" aria-label="Direct link to Sync context" title="Direct link to Sync context">​</a></h3>
<p>The sync context accompanies the entire app lifecycle, which is active during UI rendering (UI plugins), and on executing sync functional plugins (<code>plugin</code> command with <code>--sync</code>).</p>
<p>For better performance, the sync context is created only at the app&#x27;s start and remains singular throughout. Thus, plugins running within this context share states,
prompting plugin developers to use plugin-specific state persistence for their plugins to prevent global space contamination:</p>
<div class="language-lua codeBlockContainer_zHTD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xu0z"><pre tabindex="0" class="prism-code language-lua codeBlock_abNA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gpQO"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- ~/.config/yazi/test.yazi/init.lua</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  entry </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">i </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ya</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">err</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;i = &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">..</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">end</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_f58W"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FQNe" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZfdQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_GIdQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Yazi initializes the <code>state</code> for each <em>sync</em> plugin before running, and it exists independently for them throughout the entire lifecycle.
Do the <code>plugin --sync test</code> three times, and you will see the log output:</p>
<div class="language-sh codeBlockContainer_zHTD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xu0z"><pre tabindex="0" class="prism-code language-sh codeBlock_abNA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gpQO"><span class="token-line" style="color:#393A34"><span class="token plain">i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre><div class="buttonGroup_f58W"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FQNe" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZfdQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_GIdQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_ZMGL" id="async-context">Async context<a href="#async-context" class="hash-link" aria-label="Direct link to Async context" title="Direct link to Async context">​</a></h3>
<p>When a plugin is executed asynchronously, an isolated async context is created for it automatically.</p>
<p>In this context, you can use all the async functions supported by Yazi, and it operates concurrently with the main thread, ensuring that the main thread is not blocked.</p>
<p>You can also obtain a small amount of app data from the sync context by calling a &quot;sync function&quot; (will be supported in the next target, v0.2.4):</p>
<div class="language-lua codeBlockContainer_zHTD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xu0z"><pre tabindex="0" class="prism-code language-lua codeBlock_abNA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gpQO"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- ~/.config/yazi/plugins/my-async-plugin.yazi/init.lua</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> get_hovered_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">-- You can access all app data through the `cx`,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">-- within the `sync()` block, in an async plugin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">active</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hovered</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> h </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tostring</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">h</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	entry </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_hovered_url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token comment" style="color:#999988;font-style:italic">-- Do some time-consuming work, such as reading file, network request, etc.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token comment" style="color:#999988;font-style:italic">-- It will execute concurrently with the main thread</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">end</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_f58W"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FQNe" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZfdQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_GIdQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_ZMGL" id="interface">Interface<a href="#interface" class="hash-link" aria-label="Direct link to Interface" title="Direct link to Interface">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_ZMGL" id="previewer">Previewer<a href="#previewer" class="hash-link" aria-label="Direct link to Previewer" title="Direct link to Previewer">​</a></h3>
<p>A previewer needs to return a table that implements the <code>peek</code> and <code>seek</code> functions. Both functions take a table parameter <code>self</code> and do not return any values:</p>
<div class="language-lua codeBlockContainer_zHTD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xu0z"><pre tabindex="0" class="prism-code language-lua codeBlock_abNA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gpQO"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	peek </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">end</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	seek </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">end</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_f58W"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FQNe" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZfdQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_GIdQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When the user presses <code>j</code> or <code>k</code> to switch between hovering files, <code>peek</code> is called, with:</p>
<ul>
<li><code>file</code>: The <a href="/docs/plugins/common#file">File</a> to be previewed.</li>
<li><code>skip</code>: The number of units to skip. The units largely depend on your previewer, such as lines for code and percentages for videos.</li>
<li><code>area</code>: The <a href="/docs/plugins/layout#rect">Rect</a> of the available preview area.</li>
<li><code>window</code>: The <a href="/docs/plugins/layout#rect">Rect</a> of the entire terminal window.</li>
</ul>
<p>When the user presses <code>Alt-j</code> or <code>Alt-k</code> to scroll the preview of this file, <code>seek</code> is called, with:</p>
<ul>
<li><code>file</code>: The <a href="/docs/plugins/common#file">File</a> being scrolled.</li>
<li><code>area</code>: The <a href="/docs/plugins/layout#rect">Rect</a> of the available preview area.</li>
</ul>
<p>The task of <code>peek</code> is to draw in the preview area based on the values of <code>file</code> and <code>skip</code>. This process is asynchronous.</p>
<p>The task of <code>seek</code> is to change the value of <code>skip</code> based on user behavior and trigger <code>peek</code> again. It is synchronous, meaning you can access <a href="/docs/plugins/common#app-data">app data</a> through <code>cx</code>.</p>
<p>Here are some preset previewers and preloaders you can refer to: <a href="https://github.com/sxyazi/yazi/tree/main/yazi-plugin/preset/plugins" target="_blank" rel="noopener noreferrer">Yazi Preset Plugins</a></p>
<h3 class="anchor anchorWithStickyNavbar_ZMGL" id="preloader">Preloader<a href="#preloader" class="hash-link" aria-label="Direct link to Preloader" title="Direct link to Preloader">​</a></h3>
<p>You need to return a table that implements the <code>preload</code> function, it receives a <code>self</code> parameter, which is a table with the same fields as <a href="#previewer"><code>peek</code></a>:</p>
<div class="language-lua codeBlockContainer_zHTD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xu0z"><pre tabindex="0" class="prism-code language-lua codeBlock_abNA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_gpQO"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	preload </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">end</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_f58W"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FQNe" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZfdQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_GIdQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And has the following return values:</p>
<table><thead><tr><th>Binary</th><th>Decimal</th><th></th></tr></thead><tbody><tr><td><code>0 0</code></td><td>0</td><td>Failure, don&#x27;t continue</td></tr><tr><td><code>0 1</code></td><td>1</td><td>Success, don&#x27;t continue</td></tr><tr><td><code>1 0</code></td><td>2</td><td>Failure, continue</td></tr><tr><td><code>1 1</code></td><td>3</td><td>Success, continue</td></tr></tbody></table>
<p>When &quot;continue&quot; is set, the preloader can reload the files that have already been loaded at the next time point, such as when the user scrolls, leading to a page switch. This is usually done for the either:</p>
<ul>
<li>Retrying in case of file loading failure</li>
<li>Refreshing the file status upon successful loading</li>
</ul>
<p>Yazi will automatically invoke the <code>preload</code> concurrently for each file that matches the preload rules on the page.</p>
<p>When the user specifies <a href="/docs/configuration/yazi#preloaders"><code>multi = true</code></a> for it, the plugin allows preloading multiple files at once. In this case, <code>self.file</code> will be replaced by <code>self.files</code>.</p>
<p>Typically, a preloader only needs to implement one of them - either single or multiple. This depends on the specific task and the magnitude of the workload.
If it truly requires loading multiple files at once, the user needs to be prompted to enable the <code>multi</code> option for it.</p>
<h2 class="anchor anchorWithStickyNavbar_ZMGL" id="debugging">Debugging<a href="#debugging" class="hash-link" aria-label="Direct link to Debugging" title="Direct link to Debugging">​</a></h2>
<p>Please ensure that your <code>~/.config/yazi/init.lua</code> includes valid Lua code with the correct syntax, otherwise will result in Yazi being unable to parse and execute your <code>init.lua</code> to initialize.</p>
<p>We recommend installing a Lua plugin in your editor for syntax checking to avoid any syntax errors.
For example, install the <a href="https://marketplace.visualstudio.com/items?itemName=sumneko.lua" target="_blank" rel="noopener noreferrer">Lua plugin</a> for VSCode, and for Neovim, use <a href="https://github.com/neovim/nvim-lspconfig" target="_blank" rel="noopener noreferrer">nvim-lspconfig</a> to configure your Lua LSP.</p>
<p>If you have no experience with Lua, you can quickly get started through <a href="https://learnxinyminutes.com/docs/lua/" target="_blank" rel="noopener noreferrer">https://learnxinyminutes.com/docs/lua/</a></p>
<h3 class="anchor anchorWithStickyNavbar_ZMGL" id="logging">Logging<a href="#logging" class="hash-link" aria-label="Direct link to Logging" title="Direct link to Logging">​</a></h3>
<p>Once you get started, if you want to debug some runtime data, use <a href="/docs/plugins/utils#dbgmsg"><code>ya.dbg()</code></a> and <a href="/docs/plugins/utils#errmsg"><code>ya.err()</code></a> to print what you want to debug to either:</p>
<ul>
<li><code>~/.local/state/yazi/yazi.log</code> on Unix-like systems.</li>
<li><code>C:\Users\USERNAME\AppData\Roaming\yazi\state\yazi.log</code> on Windows.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/yazi-rs/yazi-rs.github.io/edit/main/docs/plugins/overview.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_K9RQ" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_yA3m"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/configuration/theme"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">theme.toml</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/plugins/common"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Common</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_kgWA thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#functional-plugin" class="table-of-contents__link toc-highlight">Functional plugin</a></li></ul></li><li><a href="#sync-vs-async" class="table-of-contents__link toc-highlight">Sync vs Async</a><ul><li><a href="#sync-context" class="table-of-contents__link toc-highlight">Sync context</a></li><li><a href="#async-context" class="table-of-contents__link toc-highlight">Async context</a></li></ul></li><li><a href="#interface" class="table-of-contents__link toc-highlight">Interface</a><ul><li><a href="#previewer" class="table-of-contents__link toc-highlight">Previewer</a></li><li><a href="#preloader" class="table-of-contents__link toc-highlight">Preloader</a></li></ul></li><li><a href="#debugging" class="table-of-contents__link toc-highlight">Debugging</a><ul><li><a href="#logging" class="table-of-contents__link toc-highlight">Logging</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/features">Features</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/qfADduSdJu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord (English mainly)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BDFJ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/yazi_rs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram (Chinese mainly)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BDFJ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sxyazi/yazi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_BDFJ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Yazi. Built with ❤️️.</div></div></div></footer></div>
</body>
</html>